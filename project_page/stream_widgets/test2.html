<!doctype html>
<html>

<head>
    <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'>
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />
    <title>WebCodecs Demo</title>
</head>

<body>
    <style>
        .item {
            width: 320px;
            display: inline-block;
            text-align: center;
        }

        .video {
            width: 224;
            height: 224;
        }
    </style>
    <h1>WebCodecs Demo</h1>
    <br />
    <button id="startBtn">开始</button>
    <br />
    <div>
        <div class="item">
            <span>解码画面::</span>
            <video id="playVideo" autoplay muted class="video"></video>
        </div>
        <iframe id="iframe" width="224" height="224" src="http://192.168.1.5:8000/test4.html" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" sandbox="allow-scripts allow-popups allow-same-origin"></iframe>
    </div>

    <script type='text/javascript'>
        // main();
        const communicate_test = (data) => {
            console.log(data);
        }

        if (window.addEventListener) {
            window.addEventListener("message", onMessage, false);        
        } 
        else if (window.attachEvent) {
            window.attachEvent("onmessage", onMessage, false);
        }

        function onMessage(event) {
            console.log(event);
        }

    </script>
</body>

</html>